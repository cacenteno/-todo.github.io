{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/root/todo/src/views/Login/index.js\";\nimport axios from 'axios';\nimport React from 'react';\n\nfunction Login(props) {\n  const handleLogin = async e => {\n    try {\n      e.preventDefault();\n      let elements = e.target.elements;\n      let user = {\n        email: elements.email.value,\n        password: elements.pwd.value\n      };\n      const {\n        data\n      } = await axios.post(\"https://centenoacademy.org/api/login\", user, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const todos = await axios.get(\"https://centenoacademy.org/api/todos\", {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"secret-token\": data.token\n        }\n      });\n      props.saveToken(data.token);\n      props.setTodos(todos.data.todos);\n      props.history.push(\"/profile\");\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleLogin,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-sm-5 mx-auto py-5 px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-3\",\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        className: \"form-control mb-3\",\n        placeholder: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"pwd\",\n        className: \"form-control mb-3\",\n        placeholder: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-auto px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btl-lg btn-info\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 12\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 8\n  }, this);\n}\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/root/todo/src/views/Login/index.js"],"names":["axios","React","Login","props","handleLogin","e","preventDefault","elements","target","user","email","value","password","pwd","data","post","headers","todos","get","token","saveToken","setTodos","history","push","err"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAClB,QAAMC,WAAW,GAAG,MAAOC,CAAP,IAAW;AAC3B,QAAG;AACHA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,QAAQ,GAAGF,CAAC,CAACG,MAAF,CAASD,QAAxB;AACA,UAAIE,IAAI,GAAE;AACNC,QAAAA,KAAK,EAACH,QAAQ,CAACG,KAAT,CAAeC,KADf;AAENC,QAAAA,QAAQ,EAAEL,QAAQ,CAACM,GAAT,CAAaF;AAFjB,OAAV;AAIA,YAAM;AAACG,QAAAA;AAAD,UAAS,MAAMd,KAAK,CAACe,IAAN,CAAW,sCAAX,EAAmDN,IAAnD,EAAwD;AAACO,QAAAA,OAAO,EAAC;AAClF,0BAAgB;AADkE;AAAT,OAAxD,CAArB;AAGA,YAAMC,KAAK,GAAG,MAAMjB,KAAK,CAACkB,GAAN,CAAU,sCAAV,EAAiD;AAACF,QAAAA,OAAO,EAAC;AAC1E,0BAAgB,kBAD0D;AAE1E,0BAAgBF,IAAI,CAACK;AAFqD;AAAT,OAAjD,CAApB;AAIDhB,MAAAA,KAAK,CAACiB,SAAN,CAAgBN,IAAI,CAACK,KAArB;AACAhB,MAAAA,KAAK,CAACkB,QAAN,CAAeJ,KAAK,CAACH,IAAN,CAAWG,KAA1B;AACAd,MAAAA,KAAK,CAACmB,OAAN,CAAcC,IAAd,CAAmB,UAAnB;AACF,KAjBG,CAkBJ,OAAMC,GAAN,EAAU;AACN,YAAMA,GAAN;AACH;AACA,GAtBD;;AAuBA,sBACG;AAAM,IAAA,QAAQ,EAAEpB,WAAhB;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,SAAS,EAAC,mBAA1C;AAA8D,QAAA,WAAW,EAAC;AAA1E;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,IAAI,EAAC,KAA5B;AAAkC,QAAA,SAAS,EAAC,mBAA5C;AAAgE,QAAA,WAAW,EAAC;AAA5E;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACA;AAAQ,UAAA,SAAS,EAAC,qBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADH;AAYH;;KApCQF,K;AAsCT,eAAeA,KAAf","sourcesContent":["import axios from 'axios';\nimport React from 'react'\n\nfunction Login(props) {\n    const handleLogin = async (e)=>{\n        try{\n        e.preventDefault();\n        let elements = e.target.elements;\n        let user ={\n            email:elements.email.value,\n            password: elements.pwd.value\n        }\n        const {data} = await axios.post(\"https://centenoacademy.org/api/login\", user,{headers:{\n            \"Content-Type\": \"application/json\"\n        }})\n        const todos = await axios.get(\"https://centenoacademy.org/api/todos\",{headers:{\n            \"Content-Type\": \"application/json\",\n            \"secret-token\": data.token\n        }})\n       props.saveToken(data.token)\n       props.setTodos(todos.data.todos)\n       props.history.push(\"/profile\")\n    }\n    catch(err){\n        throw err;\n    }\n    }\n    return (\n       <form onSubmit={handleLogin}>\n           <div className=\"col-sm-5 mx-auto py-5 px-4\">\n               <h2 className=\"text-center mb-3\">Log In</h2>\n               <input type=\"text\" name=\"email\" className=\"form-control mb-3\" placeholder=\"Email\"/>\n               <input type=\"password\" name=\"pwd\" className=\"form-control mb-3\" placeholder=\"Password\"/>\n               <div className=\"mx-auto px-4\">\n               <button className=\"btn btl-lg btn-info\">Log In</button>\n               </div>\n           </div>\n       </form> \n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}