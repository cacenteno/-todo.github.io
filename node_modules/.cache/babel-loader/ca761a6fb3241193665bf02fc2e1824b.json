{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/root/todo/src/views/Profile/index.js\";\nimport React from \"react\";\nimport AddTodo from \"../../components/AddTodo\";\nimport TodoList from \"../../components/TodoList\";\nimport Timer from \"../../components/Timer\";\nimport axios from \"axios\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.removeTodo = this.removeTodo.bind(this);\n    this.postTodo = this.postTodo.bind(this);\n    this.editTodo = this.editTodo.bind(this);\n    this.reorderTodos = this.reorderTodos.bind(this);\n  }\n\n  componentDidMount() {\n    if (!this.props.token) {\n      this.props.history.push(\"/login\");\n    }\n  }\n\n  componentDidUpdate() {\n    if (!this.props.token) {\n      this.props.history.push(\"/login\");\n    }\n\n    console.log(this.props);\n  }\n\n  async removeTodo(token, todo) {\n    try {\n      let todoID = {\n        _id: todo._id\n      };\n      const data = await axios.delete(\"https://centenoacademy.org/api/todos\", {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"secret-token\": token\n        },\n        data: {\n          _id: todoID\n        }\n      }).then(data => {\n        this.props.setTodos(data.data.todos);\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  async postTodo(token, todo) {\n    try {\n      const data = await axios.post(\"https://centenoacademy.org/api/todos\", todo, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"secret-token\": token\n        }\n      }).then(data => {\n        this.props.setTodos(data.data.todos);\n      });\n      console.log(data);\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async editTodo(token, todo) {\n    try {\n      const data = await axios.patch(\"https://centenoacademy.org/api/todos\", todo, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"secret-token\": token\n        }\n      });\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async reorderTodos(token, todos) {\n    const data = await axios.patch(\"https://centenoacademy.org/api/todos/reorder\", {\n      todos: todos\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"secret-token\": token\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-7\",\n          children: [/*#__PURE__*/_jsxDEV(AddTodo, {\n            addTodo: this.postTodo,\n            token: this.props.token\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TodoList, { ...this.props,\n            reorderTodos: this.reorderTodos,\n            editTodo: this.editTodo,\n            removeTodo: this.removeTodo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-5\",\n          children: /*#__PURE__*/_jsxDEV(Timer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/root/todo/src/views/Profile/index.js"],"names":["React","AddTodo","TodoList","Timer","axios","Profile","Component","constructor","props","removeTodo","bind","postTodo","editTodo","reorderTodos","componentDidMount","token","history","push","componentDidUpdate","console","log","todo","todoID","_id","data","delete","headers","then","setTodos","todos","error","post","err","patch","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport AddTodo from \"../../components/AddTodo\"\nimport TodoList from \"../../components/TodoList\"\nimport Timer from \"../../components/Timer\"\nimport axios from \"axios\";\nclass Profile extends React.Component {\n    constructor(props) {\n        super(props)\n        this.removeTodo = this.removeTodo.bind(this)\n        this.postTodo = this.postTodo.bind(this)\n        this.editTodo = this.editTodo.bind(this)\n        this.reorderTodos = this.reorderTodos.bind(this)\n    }\n    componentDidMount(){\n        if(!this.props.token){\n            this.props.history.push(\"/login\")\n        }\n    }\n    componentDidUpdate(){\n        if(!this.props.token){\n            this.props.history.push(\"/login\")\n        }\n        console.log(this.props)\n    }\n    async removeTodo(token,todo){\n        try {\n            let todoID = {_id: todo._id}\n            const data = await axios.delete(\"https://centenoacademy.org/api/todos\",{headers:{\n                \"Content-Type\":\"application/json\",\n                \"secret-token\": token\n            },data:{\n                _id: todoID\n            }}).then(data=>{\n                this.props.setTodos(data.data.todos)\n            })\n        } catch (error) {\n            throw error\n        }   \n    }\n    async postTodo(token, todo){\n        try{\n        const data = await axios.post(\"https://centenoacademy.org/api/todos\", todo, {headers:{\n            \"Content-Type\":\"application/json\",\n            \"secret-token\": token\n        }}).then(data=>{\n            this.props.setTodos(data.data.todos);\n        })\n        console.log(data)\n        }\n        catch(err){\n            throw err;\n        }\n    }\n    async editTodo(token, todo){\n        try{\n        const data = await axios.patch(\"https://centenoacademy.org/api/todos\", todo,{headers:{\n            \"Content-Type\":\"application/json\",\n            \"secret-token\": token\n        }})\n    }\n    catch(err){\n        throw err;\n    }\n    }\n    async reorderTodos(token, todos){\n        const data = await axios.patch(\"https://centenoacademy.org/api/todos/reorder\", {todos: todos},{headers:{\"Content-Type\": \"application/json\", \"secret-token\": token}})\n    }\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"row\">\n                <div className=\"col-sm-7\">\n                <AddTodo addTodo={this.postTodo} token={this.props.token}/>\n                <TodoList {...this.props} reorderTodos={this.reorderTodos} editTodo={this.editTodo} removeTodo={this.removeTodo}/>\n                </div>\n                <div className=\"col-sm-5\">\n                    <Timer/>\n                </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\nexport default Profile;"]},"metadata":{},"sourceType":"module"}